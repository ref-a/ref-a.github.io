<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Målarkitekturen for datadeling i høyere utdanning og forskning :: UNIT refansearkitekturer</title>
    <link rel="canonical" href="https://ref-a.github.io/unit-ra/main/unit-ra-datadeling-målarkitekturen/Målarkitekturen%20for%20datadeling%20i%20høyere%20utdanning%20og%20forskning.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://ref-a.github.io">UNIT refansearkitekturer</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        </div>
		<a id="twitter-link" class="navbar-item" href="https://twitter.com/janakaSteph" target="_blank">
          <i class="fab fa-twitter"></i>
        </a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="unit-ra" data-version="main">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">UNIT referansearkitekturer</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Om UNIT referansearkitekturer</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#unit-ra:Bøker:Referansearkitektur for deling av data i høyere utdanning og forsking.adoc">Referansearkitektur for deling av data i høyere utdanning og forsking</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../unit-ra-datadeling-bakgrunn/Bakgrunn.html">Bakgrunn</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="Målarkitekturen%20for%20datadeling%20i%20høyere%20utdanning%20og%20forskning.html">Målarkitekturen for datadeling i høyere utdanning og forskning</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../unit-ra-datadeling-forvaltning/Forvaltning%20av%20målarkitekturen.html">Forvaltning av målarkitekturen</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../unit-ra-datadeling-definisjoner/Vedlegg%201%20-%20Definisjoner.html">Vedlegg 1 - Definisjoner</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../unit-ra-datadeling-issues/Vedlegg%202%20-%20Behov%20for%20avklaringer%20og%20utfordringer%20i%20sektorens%20kontekst.html">Vedlegg 2 - Behov for avklaringer og utfordringer i sektorens kontekst</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">UNIT referansearkitekturer</span>
    <span class="version">main</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">UNIT referansearkitekturer</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">main</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main>
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">UNIT referansearkitekturer</a></li>
    <li><a href="#unit-ra:Bøker:Referansearkitektur for deling av data i høyere utdanning og forsking.adoc">Referansearkitektur for deling av data i høyere utdanning og forsking</a></li>
    <li><a href="Målarkitekturen%20for%20datadeling%20i%20høyere%20utdanning%20og%20forskning.html">Målarkitekturen for datadeling i høyere utdanning og forskning</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///C:/antora/modelx-no/components/unit-ra/docs/modules/unit-ra-datadeling-målarkitekturen/pages/Målarkitekturen%20for%20datadeling%20i%20høyere%20utdanning%20og%20forskning.adoc">Rediger kilde</a></div>
</div>
<article class="doc"><a name="section-top"></a>
<h1 class="page">Målarkitekturen for datadeling i høyere utdanning og forskning</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_om_arkitekturprinsippenes_føringer_for_datadeling">1. Om arkitekturprinsippenes føringer for datadeling</a></li>
<li><a href="#_hva_er_datadeling">2. Hva er datadeling</a></li>
<li><a href="#_modeller_for_datadeling">3. Modeller for datadeling</a>
<ul class="sectlevel2">
<li><a href="#_del_og_innhent_data_verdistrøm">3.1. Del og innhent data, verdistrøm</a></li>
</ul>
</li>
<li><a href="#_kapabiliteter">4. Kapabiliteter</a>
<ul class="sectlevel2">
<li><a href="#_innhent_data_detaljert_verdistrøm_konsument_med_kapabiliteter">4.1. Innhent data, detaljert verdistrøm konsument med kapabiliteter</a></li>
<li><a href="#_del_og_innhent_data_og_hendelser_detaljert_verdistrøm_datatilbyder_med_kapabiliteter">4.2. Del og innhent data og hendelser, detaljert verdistrøm datatilbyder med kapabiliteter</a></li>
<li><a href="#_muliggjørende_kapabiliteter">4.3. Muliggjørende kapabiliteter</a></li>
<li><a href="#_informasjonsforvaltningsdomener">4.4. Informasjonsforvaltningsdomener</a></li>
</ul>
</li>
<li><a href="#_felleskomponenter">5. Felleskomponenter</a></li>
<li><a href="#_datautveksling">6. Datautveksling</a>
<ul class="sectlevel2">
<li><a href="#_datautveksling_ved_oppslag">6.1. Datautveksling ved oppslag</a>
<ul class="sectlevel3">
<li><a href="#_applikasjonsoversikt_forespørsel">6.1.1. Applikasjonsoversikt forespørsel</a></li>
<li><a href="#_applikasjonsoversikt_forespørsel_integrert_med_iam">6.1.2. Applikasjonsoversikt forespørsel integrert med IAM</a></li>
<li><a href="#_applikasjonsoversikt_forespørsel_integrert_nasjonalt">6.1.3. Applikasjonsoversikt forespørsel integrert nasjonalt</a></li>
<li><a href="#_registrere_api_uhf">6.1.4. Registrere API UHF</a></li>
<li><a href="#_tilgjengeliggjøre_data_etter_forspørsel_løsningsmønster_uhf">6.1.5. Tilgjengeliggjøre data etter forspørsel løsningsmønster UHF</a></li>
<li><a href="#_få_tilgang_til_data_løsningsmønster_uhf">6.1.6. Få tilgang til data - løsningsmønster UHF</a></li>
<li><a href="#_innhente_data_løsningsmønster_uhf">6.1.7. Innhente data - løsningsmønster UHF</a></li>
<li><a href="#_avgi_data_løsningsmønster_uhf">6.1.8. Avgi data - løsningsmønster UHF</a></li>
</ul>
</li>
<li><a href="#_datautveksling_ved_publisering_konsumering_hendelsesbasert">6.2. Datautveksling ved publisering – konsumering (hendelsesbasert)</a></li>
</ul>
</li>
<li><a href="#_integrasjonsmønster_for_datadeling">7. Integrasjonsmønster for datadeling</a></li>
</ul>
</div>
<div class="sect1">
<h2 id="_om_arkitekturprinsippenes_føringer_for_datadeling"><a class="anchor" href="#_om_arkitekturprinsippenes_føringer_for_datadeling"></a>1. Om arkitekturprinsippenes føringer for datadeling</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Pek til
<a href="https://www.digdir.no/digitalisering-og-samordning/overordnede-arkitekturprinsipper/1065">overordnede arkitekturprinsippene</a> fra digitaliseringsdirektoratet og hva de betyr
her.</p>
</div>
<div class="paragraph">
<p><mark>Trenger vi noen justeringer av prinsippene?</mark></p>
</div>
<div class="paragraph">
<p>Si noe om UH-IntArk prinsippene og forhold til de overordnede
arkitekturprinsippene</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_hva_er_datadeling"><a class="anchor" href="#_hva_er_datadeling"></a>2. Hva er datadeling</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Følgende definisjon for datadeling er hentet fra
Digitaliseringsdirektoratets
<a href="https://doc.difi.no/nasjonal-arkitektur/nab_arkitekturlandskap_segmentarkitektur_datadeling/">segmentarkitektur for datadeling</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title"><em>Datadeling</em></div>
<div class="paragraph">
<p>Datadeling handler om å forsyne forretningsprosesser og dataanalyse med nødvendig datagrunnlag.</p>
</div>
<div class="paragraph">
<p>De fleste aktører sitter på begge sider i dette bildet, og må kunne
både <em>dele</em> og <em>innhente</em> data og hendelser. I beskrivelsene skilles det
likevel gjerne på rollene som <em>tilbyder</em> og <em>konsument</em>.</p>
</div>
<div class="paragraph">
<p>Begrepet <em>datadeling</em> er ut fra dette å oppfatte som kortform
for <strong><em>deling og innhenting av data og hendelser</em></strong>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_modeller_for_datadeling"><a class="anchor" href="#_modeller_for_datadeling"></a>3. Modeller for datadeling</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Når datatilbydere og datakonsumenter deler data, skjer det som en del av
en digital samhandling. For at samhandlingen skal være vellykket, må
tilbydere og konsumenter sikre at de handler i henhold til loven
(juridisk samhandlingsevne), at aktørene har avklart forventninger til
hverandre (organisatorisk samhandlingsevne), at datatilbyder og
konsumenter har samme forståelse av dataenes betydning (semantisk
samhandlingsevne) og at de tekniske løsningene som utfører datadeling
fungerer sammen slik de skal (teknisk samhandlingsevne).
<a href="https://www.digdir.no/nasjonal-arkitektur/rammeverk-digital-samhandling/2148#juridisk_samhandlingsevne">Rammeverk
for digital samhandling</a> vist under utdyper disse samhandlingsevner.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/image4.png" alt="image" width="464" height="274"></span></p>
</div>
<div class="paragraph">
<p>Modellene i referansearkitekturen beskrevet under er laget for å ivareta
juridisk-, organisatorisk-, semantisk- og teknisk samhandlingsevner og
hjelper dermed de som benytter modellene til å lykkes med digital
samhandling.</p>
</div>
<div class="paragraph">
<p><a href="https://nasjonal-arkitektur.github.io/architecture-repository/about-topic-areas/about-topic-areas.html">Nasjonale
referansearkitekturer innen datadeling og datautveksling</a> er fremdeles
under utvikling. Vi gjenbruker her noen av modellene uendret, og
tilpasser noen for høyere utdanning og forskning. Den overordnede
verdistrømmen for datadeling og relaterte kapabiliteter <mark>avbildet under</mark>
er uendret.</p>
</div>
<div class="sect2">
<h3 id="_del_og_innhent_data_verdistrøm"><a class="anchor" href="#_del_og_innhent_data_verdistrøm"></a>3.1. Del og innhent data, verdistrøm</h3>
<div class="paragraph">
<p><mark>TODO (Erik): Beskrivelse av Del og innhent data, verdistrøm + hvert steg</mark></p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Del%20og%20innhent%20data,%20verdistrøm.png" alt="Del og innhent data" width="verdistrøm image">
</div>
<div class="title">Figure 1. Del og innhent data, verdistrøm</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="Del%20og%20innhent%20data,%20verdistrøm.var.1.html" class="page">Vis detaljer om elementene i diagrammet</a> (Tips: <kbd>Shift</kbd>-klikk for å åpne i nytt vindu)</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_kapabiliteter"><a class="anchor" href="#_kapabiliteter"></a>4. Kapabiliteter</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Som vist i <mark>figuren over</mark>, må datatilbyderen ha oversikt over egne data
som skal deles og evne til å publisere datasettene slik at andre kan
benytte disse.</p>
</div>
<div class="paragraph">
<p>For at datadeling skal fungere etter hensikt, må dataene
ha god kvalitet. Dette krever kapabiliteter innen
informasjonsforvaltning.  Vi har modellert disse evner som
«muliggjørende kapabiliteter» i referansearkitekturen for høyere
utdanning og forskning med utgangspunkt i
<a href="https://app.powerbi.com/view?r=eyJrIjoiMThhNjkzNmItOGQ4NC00MDkzLWI3MDQtNzY0ZjA1MjQ5MzViIiwidCI6ImFlMWE3NzI0LTQwNDEtNDQ2Mi1hNmRjLTUzOGNiMTk5NzA3ZSIsImMiOjh9">EUNIS
sin kapabilitetsmodell for europeiske universiteter</a> <mark>som vist under</mark>.</p>
</div>
<div class="paragraph">
<p>God
informasjonsforvaltning støtter både opp om organisatorisk
samhandlingsevne gjennom å gi organisasjoner riktig data av god kvalitet
og støtter opp om semantisk samhandlingsevne ved å klargjøre dataenes
betydning. Vi velger også å synliggjøre juridiske tjenester som
muliggjørende kapabilitet for å støtte opp under juridisk
samhandlingsevne.</p>
</div>
<div class="sect2">
<h3 id="_innhent_data_detaljert_verdistrøm_konsument_med_kapabiliteter"><a class="anchor" href="#_innhent_data_detaljert_verdistrøm_konsument_med_kapabiliteter"></a>4.1. Innhent data, detaljert verdistrøm konsument med kapabiliteter</h3>
<div class="imageblock">
<div class="content">
<img src="_images/Innhent%20data,%20detaljert%20verdistrøm%20konsument%20med%20kapabiliteter.png" alt="Innhent data" width="detaljert verdistrøm konsument med kapabiliteter image">
</div>
<div class="title">Figure 2. Innhent data, detaljert verdistrøm konsument med kapabiliteter</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="Innhent%20data,%20detaljert%20verdistrøm%20konsument%20med%20kapabiliteter.var.1.html" class="page">Vis detaljer om elementene i diagrammet</a> (Tips: <kbd>Shift</kbd>-klikk for å åpne i nytt vindu)</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_del_og_innhent_data_og_hendelser_detaljert_verdistrøm_datatilbyder_med_kapabiliteter"><a class="anchor" href="#_del_og_innhent_data_og_hendelser_detaljert_verdistrøm_datatilbyder_med_kapabiliteter"></a>4.2. Del og innhent data og hendelser, detaljert verdistrøm datatilbyder med kapabiliteter</h3>
<div class="paragraph">
<p>Forklaring:
Datatilbyder må evne å bestemme hvilken teknisk løsning som skal benyttes når dataene gjøres tilgjengelig som åpne data</p>
</div>
<div class="paragraph">
<p>Datatilbyder må evne å velge hvor og hvordan dataene skal gjøres tilgjengelig, hvor skal datakonsument finne dataene og på hvilket format skal dataene deles</p>
</div>
<div class="paragraph">
<p>Datatilbyder må videre evne å bestemme detaljeringsgrad på dataene</p>
</div>
<div class="paragraph">
<p>Krav til personvern må kunne ivaretas, samt eventuelle krav i forhold til andre skjermingsverdige opplysninger</p>
</div>
<div class="paragraph">
<p>Løsning:
Prosesser for å dele data som åpne data</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Del%20og%20innhent%20data%20og%20hendelser,%20detaljert%20verdistrøm%20datatilbyder%20med%20kapabiliteter.png" alt="Del og innhent data og hendelser" width="detaljert verdistrøm datatilbyder med kapabiliteter image">
</div>
<div class="title">Figure 3. Del og innhent data og hendelser, detaljert verdistrøm datatilbyder med kapabiliteter</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="Del%20og%20innhent%20data%20og%20hendelser,%20detaljert%20verdistrøm%20datatilbyder%20med%20kapabiliteter.var.1.html" class="page">Vis detaljer om elementene i diagrammet</a> (Tips: <kbd>Shift</kbd>-klikk for å åpne i nytt vindu)</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_muliggjørende_kapabiliteter"><a class="anchor" href="#_muliggjørende_kapabiliteter"></a>4.3. Muliggjørende kapabiliteter</h3>
<div class="paragraph">
<p>Informasjonen som skal forvaltes finnes i en faglig kontekst som vi kaller «domener». Fageksperter bør ha eierskap til begrepsdefinisjoner innen egen domene. Domenene bør også være ansvarlig for forvaltning av egen informasjon. Vi har benyttet EUNIS kapabilitetsmodellen som kilde til definisjon av fagdomener der ansvar for forvaltning av informasjon skal være.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Muliggjørende%20kapabiliteter.png" alt="Muliggjørende kapabiliteter image">
</div>
<div class="title">Figure 4. Muliggjørende kapabiliteter</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="Muliggjørende%20kapabiliteter.var.1.html" class="page">Vis detaljer om elementene i diagrammet</a> (Tips: <kbd>Shift</kbd>-klikk for å åpne i nytt vindu)</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_informasjonsforvaltningsdomener"><a class="anchor" href="#_informasjonsforvaltningsdomener"></a>4.4. Informasjonsforvaltningsdomener</h3>
<div class="imageblock">
<div class="content">
<img src="_images/Informasjonsforvaltningsdomener.png" alt="Informasjonsforvaltningsdomener image">
</div>
<div class="title">Figure 5. Informasjonsforvaltningsdomener</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="Informasjonsforvaltningsdomener.var.1.html" class="page">Vis detaljer om elementene i diagrammet</a> (Tips: <kbd>Shift</kbd>-klikk for å åpne i nytt vindu)</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_felleskomponenter"><a class="anchor" href="#_felleskomponenter"></a>5. Felleskomponenter</h2>
<div class="sectionbody">
<div class="paragraph">
<p><mark>(i sektoren hittil har «felles» betyd både at alle bruker samme instans,
eller at alle har identiske instanser – vi må presisere hva som er
hva etter hvert)</mark></p>
</div>
<div class="paragraph">
<p>Innledende tekst om hva slags funksjonalitet vi trenger i
felleskomponenter og hvorfor, motivert fra kapabilitetene over.</p>
</div>
<div class="paragraph">
<p><mark>Jeg har laget et Archimate view som heter «Felleskomponenter»,
men jeg vil ikke ha bildet, bare teksten som står i beskrivelse av
kompontenene</mark></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Autentiseringstjeneste​</p>
</li>
<li>
<p>API manager​</p>
</li>
<li>
<p>API katalog / datakatalog ​</p>
</li>
<li>
<p>API gateway​</p>
</li>
<li>
<p>Autorisasjonstjeneste / Nøkkelutsteder ​</p>
</li>
<li>
<p>Klient register​</p>
</li>
<li>
<p>Identity Governance Administration (IGA)​</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><mark>Heidi NB: mangler komponenter for hendelsesstrømming/-publisering</mark></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_datautveksling"><a class="anchor" href="#_datautveksling"></a>6. Datautveksling</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Med utgangspunkt i
<a href="https://nasjonal-arkitektur.github.io/architecture-repository/data-exchange-ra/book-data-exchange-ra.html">Referansearkitektur
for datautveksling</a> beskriv de mønstrene som vi bruker</p>
</div>
<div class="sect2">
<h3 id="_datautveksling_ved_oppslag"><a class="anchor" href="#_datautveksling_ved_oppslag"></a>6.1. Datautveksling ved oppslag</h3>
<div class="sect3">
<h4 id="_applikasjonsoversikt_forespørsel"><a class="anchor" href="#_applikasjonsoversikt_forespørsel"></a>6.1.1. Applikasjonsoversikt forespørsel</h4>
<div class="paragraph">
<p>Narrativ for dette "viewet"&#8230;&#8203;</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Applikasjonsoversikt%20forespørsel.png" alt="Applikasjonsoversikt forespørsel image">
</div>
<div class="title">Figure 6. Applikasjonsoversikt forespørsel</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="Applikasjonsoversikt%20forespørsel.var.1.html" class="page">Vis detaljer om elementene i diagrammet</a> (Tips: <kbd>Shift</kbd>-klikk for å åpne i nytt vindu)</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_applikasjonsoversikt_forespørsel_integrert_med_iam"><a class="anchor" href="#_applikasjonsoversikt_forespørsel_integrert_med_iam"></a>6.1.2. Applikasjonsoversikt forespørsel integrert med IAM</h4>
<div class="imageblock">
<div class="content">
<img src="_images/Applikasjonsoversikt%20forespørsel%20integrert%20med%20IAM.png" alt="Applikasjonsoversikt forespørsel integrert med IAM image">
</div>
<div class="title">Figure 7. Applikasjonsoversikt forespørsel integrert med IAM</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="Applikasjonsoversikt%20forespørsel%20integrert%20med%20IAM.var.1.html" class="page">Vis detaljer om elementene i diagrammet</a> (Tips: <kbd>Shift</kbd>-klikk for å åpne i nytt vindu)</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_applikasjonsoversikt_forespørsel_integrert_nasjonalt"><a class="anchor" href="#_applikasjonsoversikt_forespørsel_integrert_nasjonalt"></a>6.1.3. Applikasjonsoversikt forespørsel integrert nasjonalt</h4>
<div class="imageblock">
<div class="content">
<img src="_images/Applikasjonsoversikt%20forespørsel%20integrert%20nasjonalt.png" alt="Applikasjonsoversikt forespørsel integrert nasjonalt image">
</div>
<div class="title">Figure 8. Applikasjonsoversikt forespørsel integrert nasjonalt</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="Applikasjonsoversikt%20forespørsel%20integrert%20nasjonalt.var.1.html" class="page">Vis detaljer om elementene i diagrammet</a> (Tips: <kbd>Shift</kbd>-klikk for å åpne i nytt vindu)</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_registrere_api_uhf"><a class="anchor" href="#_registrere_api_uhf"></a>6.1.4. Registrere API UHF</h4>
<div class="paragraph">
<p>En arbeidsflyt som datatilbyder må gjennomføre for å gjøre et API synlig og tilgjengelig gjennom kataloger og søkeløsninger. Metadata om APIet blir registrert i API-katalogen. Metadata inkluderer begreper og datamodeller omfattet av datasettet som APIet tilgjengeliggjør, samt tilganger (scopes) knyttet til APIet som kan tildeles konsumenter.</p>
</div>
<div class="paragraph">
<p>Kanskje omdøpe kapabiliteten til "Publiser API"</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Registrere%20API%20UHF.png" alt="Registrere API UHF image">
</div>
<div class="title">Figure 9. Registrere API UHF</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="Registrere%20API%20UHF.var.1.html" class="page">Vis detaljer om elementene i diagrammet</a> (Tips: <kbd>Shift</kbd>-klikk for å åpne i nytt vindu)</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_tilgjengeliggjøre_data_etter_forspørsel_løsningsmønster_uhf"><a class="anchor" href="#_tilgjengeliggjøre_data_etter_forspørsel_løsningsmønster_uhf"></a>6.1.5. Tilgjengeliggjøre data etter forspørsel løsningsmønster UHF</h4>
<div class="paragraph">
<p>En arbeidsflyt som datatilbyder må gjennomføre for å tildele rettigheter til en konsument som ber om tilgang til data. En datatilbyder mottar forespørsel om tilgang til et API på vegne av en organisasjon eller bruker. Dataeieren tar stilling til om konsumenten skal få tilgang til data gjennom APIet. Tilgang registreres knyttet til konsumentens klient (applikasjonen som benytter APIet) i klientregisteret.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Tilgjengeliggjøre%20data%20etter%20forspørsel%20løsningsmønster%20UHF.png" alt="Tilgjengeliggjøre data etter forspørsel løsningsmønster UHF image">
</div>
<div class="title">Figure 10. Tilgjengeliggjøre data etter forspørsel løsningsmønster UHF</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="Tilgjengeliggjøre%20data%20etter%20forspørsel%20løsningsmønster%20UHF.var.1.html" class="page">Vis detaljer om elementene i diagrammet</a> (Tips: <kbd>Shift</kbd>-klikk for å åpne i nytt vindu)</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_få_tilgang_til_data_løsningsmønster_uhf"><a class="anchor" href="#_få_tilgang_til_data_løsningsmønster_uhf"></a>6.1.6. Få tilgang til data - løsningsmønster UHF</h4>
<div class="paragraph">
<p>En arbeidsflyt en konsument av data må gjennomføre for å få tildelt rettigheter til data gjennom et API. Det omfatter å få kjennskap til aktuelt API gjennom API-katalogen, autentisere konsumenten, inngå avtale om bruk av data, samt å registrere tilganger hos den tekniske komponenten som skal utføre tjenestekallet. Dersom det dreier seg om tilgang til et åpent tilgjengelig API, kan enkelte delaktiviteter i prosessene hoppes over, men for å kunne logge informasjon om bruk av APIer bør alle konsumenter av et API registreres i klientregisteret.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Få%20tilgang%20til%20data%20-%20løsningsmønster%20UHF.png" alt="Få tilgang til data - løsningsmønster UHF image">
</div>
<div class="title">Figure 11. Få tilgang til data - løsningsmønster UHF</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="Få%20tilgang%20til%20data%20-%20løsningsmønster%20UHF.var.1.html" class="page">Vis detaljer om elementene i diagrammet</a> (Tips: <kbd>Shift</kbd>-klikk for å åpne i nytt vindu)</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_innhente_data_løsningsmønster_uhf"><a class="anchor" href="#_innhente_data_løsningsmønster_uhf"></a>6.1.7. Innhente data - løsningsmønster UHF</h4>
<div class="paragraph">
<p>En arbeidsflyt en konsument utfører når det utføres et tjenestekall for å innhente data gjennom et API. API-adressen hentes i API-katalogen. Tilgang til APIet byttes inn mot et kjøretids-token i autoriseringstjenesten. Tjenestekall til APIet utføres gjennom API gateway der tokenet benyttes for å få tilgang. Dersom det er et åpent API er det kun relevante prossessteg som utføres.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Innhente%20data%20-%20løsningsmønster%20UHF.png" alt="Innhente data - løsningsmønster UHF image">
</div>
<div class="title">Figure 12. Innhente data - løsningsmønster UHF</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="Innhente%20data%20-%20løsningsmønster%20UHF.var.1.html" class="page">Vis detaljer om elementene i diagrammet</a> (Tips: <kbd>Shift</kbd>-klikk for å åpne i nytt vindu)</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_avgi_data_løsningsmønster_uhf"><a class="anchor" href="#_avgi_data_løsningsmønster_uhf"></a>6.1.8. Avgi data - løsningsmønster UHF</h4>
<div class="paragraph">
<p>En arbeidsflyt en tilbyder av data utfører for å svare på en dataforespørsel. Tilbyder mottar forespørsel om oppslag med et aksesstoken. Klienten som forespør autentiseres og token valideres. Eventuelt mer fin-granulert tilgangskontroll utføres og data returneres. Tilgang kontrolleres kun dersom det er snakk om et sikret API.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Avgi%20data%20-%20løsningsmønster%20UHF.png" alt="Avgi data - løsningsmønster UHF image">
</div>
<div class="title">Figure 13. Avgi data - løsningsmønster UHF</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="Avgi%20data%20-%20løsningsmønster%20UHF.var.1.html" class="page">Vis detaljer om elementene i diagrammet</a> (Tips: <kbd>Shift</kbd>-klikk for å åpne i nytt vindu)</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_datautveksling_ved_publisering_konsumering_hendelsesbasert"><a class="anchor" href="#_datautveksling_ved_publisering_konsumering_hendelsesbasert"></a>6.2. Datautveksling ved publisering – konsumering (hendelsesbasert)</h3>

</div>
</div>
</div>
<div class="sect1">
<h2 id="_integrasjonsmønster_for_datadeling"><a class="anchor" href="#_integrasjonsmønster_for_datadeling"></a>7. Integrasjonsmønster for datadeling</h2>
<div class="sectionbody">
<div class="paragraph">
<p>*Provisjonering *(hoved IntArk mønster): Holde «server-side» kopi løpende oppdatert
fra master ved å benytte eOppslag til å hente data fra master
og eNotifikasjon for å gi beskjed til abonnenter om at noe er
oppdatert på master.</p>
</div>
<div class="paragraph">
<p><strong>Synkront oppslag: </strong>realisering av eOppslag – hva bør vi si om
dette? Skal vi Skissere REST og GraphQL eller blir det for
teknologispesifikk?</p>
</div>
<div class="paragraph">
<p><strong>“Event stream” på logisk nivå: </strong>Dette er en form
for ePublisering/eNotfikasjon. Ref. Gartner sin FS evaluering, men siden
de ikke har åpen dokumentasjon<strong> </strong>se for eksempel
denne:<strong> </strong><a href="https://mapr.com/blog/event-driven-microservices-patterns/" class="bare">https://mapr.com/blog/event-driven-microservices-patterns/</a><span class="[.underline"><a href="https://mapr.com/blog/event-driven-microservices-patterns/" class="bare">https://mapr.com/blog/event-driven-microservices-patterns/</a></span>].
Overordnet, omtales arkitekturen som
“https://en.wikipedia.org/wiki/Event-driven_architecture[<span class="underline">Event Driven
Architecture</span>]”.<sup>2</sup>  Tilnærmingen forutsetter tilnærming til konsistens
omtalt
som «https://en.wikipedia.org/wiki/Eventual_consistency[<span class="underline">Eventual
Consistency</span>]». «Conflict resolution» kan her gjennomføres på flere
måter avhengig av domenebehov. Mange benytter «last writer wins», men
det finnes flere, strengere alternativer, som for
eksempel https://debezium.io/blog/2020/02/10/event-sourcing-vs-cdc/<span class="[.underline">Event
sourcing og Change Data Capture</span>].</p>
</div>
<div class="paragraph">
<p><strong>Backend for frontend</strong>: relevant når vi skal spesifisere samhandling med
individer, som i innovativ læring og livslang læring. eHelse sier
«Backend-for-Frontend (BFF) er et utbredt designkonsept som benyttes for
mange klienter og API-er. Konseptet går ut på å la
ulike brukergrensesnittyper (Nettleserbaserte, App-er på mobil osv) ha
hver sin backend slik at spesialtilpasninger på API-er som kreves for de
ulike brukergrensesnitttypene kan realiseres uten at det går
utover vedlikeholdbarheten til API-ene.» Gartner bruker også den.</p>
</div>
</div>
</div>
</article>
<aside class="article-aside hidden" role="navigation">
  <h3 class="toc-title">Innhold</h3>
  <div id="article-toc"></div>
</aside></main>
</div>
<footer class="footer">
  <p>Kontakt: nasjonalarkitektur@digdir.no, eventuelt erik.hagen@digdir.no, tlf. +47 90631013.</p>
  <p>Digitaliseringsirektoratet, 2020.</p>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.1.1/tocbot.min.js"></script>
<script src="../../../_/js/site.js"></script>
<script src="../../../_/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
<script>
  tocbot.init( {
                  tocSelector: '#article-toc',
                  contentSelector: 'article',
                  headingSelector: 'h2, h3, h4, h5, h6',
                  collapseDepth: 6,
                  positionFixedSelector: '#article-toc',
                  scrollSmooth: false
                } );
  var tocList = document.getElementById( 'article-toc' ).getElementsByClassName( 'toc-list' );
  if ( tocList && tocList.length > 0 && tocList[0].childNodes.length > 0 ) {
    document.getElementById( 'article-toc' ).parentNode.classList.remove( 'hidden' );
  }
</script>  </body>
</html>
